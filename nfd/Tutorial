酒神原贴:[<a href='https://www.nodeseek.com/post-29975-1'>NFD] 基于cloudflare worker的电报私聊机器人，集成骗子提醒功能</a>
BOT实战:<a href='https://www.nodeseek.com/post-31984-1'>点名表扬酒神的机器人，智能识别骗子</a>
1.从<a href='https://www.nodeseek.com/jump?to=https%3A%2F%2Ft.me%2FBotFather'>@BotFather</a>获取token，并且可以发送/setjoingroups来禁止此Bot被添加到群组
<img src="https://telegra.ph/file/3206599a2c8df35f19ba2.png" referrerpolicy="no-referrer" alt="img">
设置你的BOT用户名和名字
设置完后会获得一个TOKEN
<img src="https://telegra.ph/file/a60a9ed5ed13db7245a37.png" referrerpolicy="no-referrer" alt="img">
2.从<a href='https://www.nodeseek.com/jump?to=https%3A%2F%2Fwww.uuidgenerator.net%2F'>uuidgenerator</a>获取一个随机uuid作为secret
这个就是
<img src="https://telegra.ph/file/15b9c8d790b54b68dec94.png" referrerpolicy="no-referrer" alt="img">
3.从<a href='https://www.nodeseek.com/jump?to=https%3A%2F%2Ft.me%2Fusername_to_id_bot'>@username_to_id_bot</a>获取你的用户id
<img src="https://telegra.ph/file/05a05e65df5693e5808da.png" referrerpolicy="no-referrer" alt="img">
4.登录<a href='https://www.nodeseek.com/cloudflare.com'>cloudflare</a>，创建一个worker
<img src="https://telegra.ph/file/b77476ec22e01c446a70c.png" referrerpolicy="no-referrer" alt="img">
<img src="https://telegra.ph/file/37b6405930ffc5f90238c.png" referrerpolicy="no-referrer" alt="img">
<img src="https://telegra.ph/file/57d0bb92ba97f6c21663b.png" referrerpolicy="no-referrer" alt="img">
这里不用管，先点部署
<img src="https://telegra.ph/file/7a5054a0e5c7138719f2c.png" referrerpolicy="no-referrer" alt="img">
先来配置环境，再次点这里，选择你创建的workers
<img src="https://telegra.ph/file/b77476ec22e01c446a70c.png" referrerpolicy="no-referrer" alt="img">
点击设置
<img src="https://telegra.ph/file/00c27218112803c2424ca.png" referrerpolicy="no-referrer" alt="img">
<img src="https://telegra.ph/file/b68b69b17aeff3cad0bb6.png" referrerpolicy="no-referrer" alt="img">
<img src="https://telegra.ph/file/7e0f2a7863343aa1cef81.png" referrerpolicy="no-referrer" alt="img">
增加一个ENV_BOT_TOKEN变量，数值为从步骤1中获得的token
增加一个ENV_BOT_SECRET变量，数值为从步骤2中获得的secret
增加一个ENV_ADMIN_UID变量，数值为从步骤3中获得的用户id
<img src="https://telegra.ph/file/25874ac313a76cedf7de5.png" referrerpolicy="no-referrer" alt="img">
创建一个KV
<img src="https://telegra.ph/file/f5360cc16fa3abebe6ee9.png" referrerpolicy="no-referrer" alt="img">
<img src="https://telegra.ph/file/f98938e94221628145272.png" referrerpolicy="no-referrer" alt="img">
名称设置为nfd
<img src="https://telegra.ph/file/d266707814a01f276bf86.png" referrerpolicy="no-referrer" alt="img">
回到这里
<img src="https://telegra.ph/file/bc288f9b3a9fc61629ba9.png" referrerpolicy="no-referrer" alt="img">
鼠标滚轮往下滑，找到这个
<img src="https://telegra.ph/file/b52b0383162b791f60653.png" referrerpolicy="no-referrer" alt="img">
前面写nfd,后面选择你刚才创建的nfd
<img src="https://telegra.ph/file/e3a6ff433974d4a1bea42.png" referrerpolicy="no-referrer" alt="img">
回到workers页面,选择你刚创建的workers,点击快速编辑
<img src="https://telegra.ph/file/abacdef5f423302fd2bf9.png" referrerpolicy="no-referrer" alt="img">
进入<a href='https://www.nodeseek.com/jump?to=https%3A%2F%2Fgithub.com%2FLloydAsp%2Fnfd%2Fblob%2Fmain%2Fworker.js'>这个网页</a>，点击图中按钮复制
<img src="https://telegra.ph/file/19c238e160ed1957a8ca9.png" referrerpolicy="no-referrer" alt="img">
复制到这个框里,然后点右上角的保存并部署
<img src="https://telegra.ph/file/01e5fd778a05c3ea23f4e.png" referrerpolicy="no-referrer" alt="img">
以上都做完后，回到你的workers，里面会有一个网址
<img src="https://telegra.ph/file/fe93dfaca6817b001cf66.png" referrerpolicy="no-referrer" alt="img">
将这个网址复制到浏览器，在后面添加&quot;/registerWebhook&quot;，然后回车
网页中会弹出OK
自此搭建完成，有搭建完成的小伙伴可以把BOT的网址放出来，我会帮忙测试一下
如果有忘了BOT信息的可以去<a href='https://www.nodeseek.com/jump?to=https%3A%2F%2Ft.me%2FBotFather'>@BotFather</a>查询
